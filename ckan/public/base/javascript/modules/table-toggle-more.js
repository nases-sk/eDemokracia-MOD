this.ckan.module("table-toggle-more",function(e,s){return{options:{i18n:{show_more:s("Show more"),show_less:s("Hide")}},initialize:function(){e.proxyAll(this,/_on/),this.el.addClass("table-toggle-more");var s=e(".toggle-more",this.el).length;if(s){var o=e("thead tr th",this.el).length,t=['<tr class="toggle-show toggle-show-more">','<td colspan="'+o+'">',"<small>",'<a href="#" class="show-more">'+this.i18n("show_more")+"</a>",'<a href="#" class="show-less">'+this.i18n("show_less")+"</a>","</small>","</td>","</tr>"].join("\n"),l=['<tr class="toggle-seperator">','<td colspan="'+o+'">',"</td>","</tr>"].join("\n"),h=e(l).insertAfter(e(".toggle-more:last-child",this.el));e(t).insertAfter(h),e(".show-more",this.el).on("click",this._onShowMore),e(".show-less",this.el).on("click",this._onShowLess)}},_onShowMore:function(e){e.preventDefault(),this.el.removeClass("table-toggle-more").addClass("table-toggle-less")},_onShowLess:function(e){e.preventDefault(),this.el.removeClass("table-toggle-less").addClass("table-toggle-more")}}});