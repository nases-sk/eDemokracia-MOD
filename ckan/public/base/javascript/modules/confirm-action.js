this.ckan.module("confirm-action",function(t,n){return{options:{i18n:{heading:n("Please Confirm Action"),content:n("Are you sure you want to perform this action?"),confirm:n("Confirm"),cancel:n("Cancel")},template:['<div class="modal">','<div class="modal-header">','<button type="button" class="close" data-dismiss="modal">Ã—</button>',"<h3></h3>","</div>",'<div class="modal-body"></div>','<div class="modal-footer">','<button class="btn btn-cancel"></button>','<button class="btn btn-primary"></button>',"</div>","</div>"].join("\n")},initialize:function(){t.proxyAll(this,/_on/),this.el.on("click",this._onClick)},confirm:function(){this.sandbox.body.append(this.createModal()),this.modal.modal("show"),this.modal.css({"margin-top":this.modal.height()*-.5,top:"50%"})},performAction:function(){var n=t("<form/>",{action:this.el.attr("href"),method:"POST"});n.appendTo("body").submit()},createModal:function(){if(!this.modal){var n=this.modal=t(this.options.template);n.on("click",".btn-primary",this._onConfirmSuccess),n.on("click",".btn-cancel",this._onConfirmCancel),n.modal({show:!1}),n.find("h3").text(this.i18n("heading")),n.find(".modal-body").text(this.i18n("content")),n.find(".btn-primary").text(this.i18n("confirm")),n.find(".btn-cancel").text(this.i18n("cancel"))}return this.modal},_onClick:function(t){t.preventDefault(),this.confirm()},_onConfirmSuccess:function(t){this.performAction()},_onConfirmCancel:function(t){this.modal.modal("hide")}}});